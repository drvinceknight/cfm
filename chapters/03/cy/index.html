<!DOCTYPE html>
<html>
<head>
    <title>Cyfrifiadureg ar gyfer mathemateg</title>

  <meta charset="UTF-8">
  <!-- Mobile Specific Metas –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Cwrs israddedig yn cyflwyno rhaglennu, trwy defnyddio Python, i mathemategwyr.">
  <meta name="keywords" content="python, mathematics, jupyter, mathemateg">
  <meta name="author" content="Vince Knight">
  <!-- CSS –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="/cfm/assets/css/main.css">
  <link rel="stylesheet" href="/cfm/assets/css/normalize.css">
  <link rel="stylesheet" href="/cfm/assets/css/skeleton.css">
  <link rel="shortcut icon" type="image/png" href="/cfm/assets/favicon.ico"/>

  <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"
  async>
  </script>
  <!-- MathJax configuration -->
	<script type="text/x-mathjax-config">
	MathJax.Hub.Config({
		tex2jax: {
			inlineMath: [ ['$','$'], ["\\(","\\)"] ],
			displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
			processEscapes: true,
			processEnvironments: true
		},
		// Center justify equations in code and markdown cells. Elsewhere
		// we use CSS to left justify single line equations in code cells.
		displayAlign: 'center',
		"HTML-CSS": {
			styles: {'.MathJax_Display': {"margin": 0}},
			linebreaks: { automatic: true }
		}
	});
	</script>
	<!-- End of mathjax configuration -->
</head>

   
  <link rel="stylesheet" href="/cfm/assets/css/notebook.css">


    <!-- Google Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-38016329-2', 'auto');
    ga('send', 'pageview');
    </script>
</head>
<body>

    <header>
    <div class="row">
        <div class="three.columns">
            <a class="logo" href="/cfm/cy">Cyfrifiadureg ar gyfer mathemateg</a>
        </div>
        <div class="nine.columns">
              <input id="nav" type="checkbox">
              <label for="nav"></label>
              <nav>
                    <ul>
                      
                          <li><a href=/cfm/chapters/00/cy/>Cyflwyniad i'r Cwrs</a></li>
                      
                          <li><a href=/cfm/chapters/01/cy/>Newidynnau Datganiadau Amodol a Lwpiau</a></li>
                      
                          <li><a href=/cfm/chapters/02/cy/>Ffwythiannau a strwythurau data</a></li>
                      
                          <li><a href=/cfm/chapters/03/cy/>Ysgrifennu i ffeiliau a ffwythiannau ailadroddol</a></li>
                      
                          <li><a href=/cfm/chapters/04/cy/>Rhaglennu gwrthrych gyfeiriol</a></li>
                      
                          <li><a href=/cfm/chapters/05/cy/>Mathemateg symbolaidd gyda sympy</a></li>
                      
                          <li><a href=/cfm/chapters/06/cy/>Llyfrgelloedd gwyddonol</a></li>
                      
                    </ul>
              </nav>
        </div>
    </div>
</header>

    <div class="container">
        
    
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Pennod-03:-Darllen-ac-ysgrifennu-i-ffeil,-ffwythiannau-ailadroddol,-ac-algorithmau">Pennod 03: Darllen ac ysgrifennu i ffeil, ffwythiannau ailadroddol, ac algorithmau<a class="anchor-link" href="#Pennod-03:-Darllen-ac-ysgrifennu-i-ffeil,-ffwythiannau-ailadroddol,-ac-algorithmau">&#182;</a></h2><p>Bydd y daflen lab yma yn ein galluogi ni i ysgrifennu i ffeiliau tecst (sy'n gadael i ni storio gwybodaeth ar ôl i ni gau Python) ac yn cyflwyno ffwythiannau ailadroddol.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Tiwtorial">Tiwtorial<a class="anchor-link" href="#Tiwtorial">&#182;</a></h2><p>Gweithiwch trwy'r canlynol:</p>
<hr>
<h3 id="1.-Ffwythiannau-ailadroddol.">1. Ffwythiannau ailadroddol.<a class="anchor-link" href="#1.-Ffwythiannau-ailadroddol.">&#182;</a></h3><p><a href="https://youtu.be/xFQGaPeaFxg">Fideo yn disgrifio'r cysyniad.</a></p>
<p><a href="https://youtu.be/VDXYEJcksPs">Fideo demo.</a></p>
<p>Mae'n bosib diffinio ffwythiannau mewn modd ailadroddol. Mae hwn yn debyg i brofion anwythiad mewn mathemateg. I wneud hwn rhaid ystyried dau beth:</p>
<ol>
<li>Rheol ailadroddol;</li>
<li>Achos sylfaenol (hwnna mae’r rheol ailadroddol yn ei ostwng iddo).</li>
</ol>
<p>Fel enghraifft gadewch i ni godio'r ffwythiant canlynol:</p>
<p>$$
    f(n) = \sum_{i=0}^ni
$$</p>
<p>Gwelwn y <strong>'rheol ailadroddol'</strong>:</p>
<p>$$
    f(n) = f(n-1) + n
$$</p>
<p>Rydyn ni hefyd yn gwybod bod yr <strong>'achos sylfaenol'</strong> yw:</p>
<p>$$
    f(0) = 0
$$</p>
<p>Nawr byddwn yn rhaglennu'r ffwythiant yma gan ddefnyddio ffwythiant ailadroddol:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">swm_cyfanrifau</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Swm y cyfanrifau o 0 i n&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># Achos sylfaenol</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="n">swm_cyfanrifau</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">n</span>  <span class="c1"># Rheol ailadroddol</span>
<span class="n">swm_cyfanrifau</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[1]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>6</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Dyma enghraifft arall. Gallwn ddiffinio'r ffwythiant ffactorial $n!=n\times(n-1)\times(n-2)...2\times 1$ fel:</p>
<ol>
<li>Yr achos sylfaenol: $0!=1$</li>
<li>Y rheol ailadroddol: $n!=n\times (n-1)!$</li>
</ol>
<p>Dyma sut byddwn yn codio hwn:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">ffactorial</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Allbynnu n! gan ddefnyddio ffwythiant ailadroddol&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># Achos sylfaenol</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">n</span> <span class="o">*</span> <span class="n">ffactorial</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ffactorial</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1
1
2
6
24
120
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Arbrofwch trwy newid y cod uchod.</p>
<h3 id="2.-Ysgrifennu-i-ffeil.">2. Ysgrifennu i ffeil.<a class="anchor-link" href="#2.-Ysgrifennu-i-ffeil.">&#182;</a></h3><p><a href="https://youtu.be/w-gEOEOLfiA">Fideo yn disgrifio'r cysyniad.</a></p>
<p><a href="https://youtu.be/jFS015bgRS0">Fideo demo.</a></p>
<p>Mae'r holl ddata rydym yn trin gyda newidynnau, rhestrau a geiriaduron yn byw yng 'nghof' y cyfrifiadur lle mae ein cod Python yn rhedeg. Mae'r holl ddata yma yn cael eu colli pan mae'r rhaglen wedi gorffen rhedeg. Bydd achlysuron pan fyddwn eisiau ysgrifennu'r data yma i ffeil ar yriant caled ein cyfrifiadur (felly ei bod ar gael hyd yn oed pan fyddwn yn troi'r cyfrifiadur i ffwrdd).</p>
<p>I wneud hwn rhaid i Python agor ffeil (fel arfer ffeil tecst syml), ysgrifennu strings i'r ffeil, ac yna cau'r ffeil. Mae'r cod canlynol yn agor (neu greu) ffeil tecst mewn modd 'write' (dyma beth mae'r w ar ei chyfer) ac yn ysgrifennu'r rhifau o 1 i 10 iddo:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ffeiltecst</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fyffeiltecst.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>  <span class="c1"># Agor y ffeil mewn modd ysgrifennu</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>
    <span class="n">ffeiltecst</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">ffeiltecst</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Cau&#39;r ffeil</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Mae hefyd yn bosib gwneud hwn yn y ffordd isod (felly nid oes angen poeni am gau'r ffeil).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fyffeiltecst.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ffeiltecst</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>
        <span class="n">ffeiltecst</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Newidiwch y cod uchod i ysgrifennu rhywbeth gwahanol i ffeil.</p>
<h3 id="3.-Darllen-ffeiliau.">3. Darllen ffeiliau.<a class="anchor-link" href="#3.-Darllen-ffeiliau.">&#182;</a></h3><p><a href="https://youtu.be/rn21nG6TZlg">Fideo yn disgrifio'r cysyniad.</a></p>
<p><a href="https://youtu.be/jtU3dML5mqw">Fideo demo.</a></p>
<p>I ddarllen data o ffeil, rhaid agor y ffeil mewn modd <code>read</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fyffeiltecst.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ffeiltecst</span><span class="p">:</span>
    <span class="n">string</span> <span class="o">=</span> <span class="n">ffeiltecst</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">string</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Nid yw'r string yma'n ddefnyddiol iawn. I'w trawsnewid i mewn i restr gallwn ddefnyddio'r dull 'split' sy'n gwahanu string wedi seilio ar gymeriad penodol:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">data</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[8]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;10&#39;, &#39;&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Gwelwn fod gennym restr o <strong>strings</strong> a hefyd un eitem olaf sy'n wag.
I glirio hwn lan (trwy drosi'r strings i gyfanrifau ac anwybyddu'r eitem olaf):</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">data</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[9]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>
<h3 id="Enghraifft-weithredol">Enghraifft weithredol<a class="anchor-link" href="#Enghraifft-weithredol">&#182;</a></h3><p><a href="https://youtu.be/WgmgK7K3WUM">Fideo yn disgrifio'r cysyniad.</a></p>
<p><a href="https://youtu.be/7245uwUjSkI">Fideo demo.</a></p>
<p>Gallwn feddwl am y dilyniant Fibonacci fel:</p>
<ol>
<li>Yr achos sylfaenol: $f(0)=f(1)=1$</li>
<li>Y rheol ailadroddol: $f(n)=f(n-1)+f(n-2)$</li>
</ol>
<p>Dyma sut byddwn yn codio hwn:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Allbynnu&#39;r nfed rhif fibonacci trwy defnyddio ffwythiant ailadroddol&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]:</span>  <span class="c1"># Yr achos sylfaenol</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># Y rheol ailadroddol</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
     <span class="nb">print</span><span class="p">(</span><span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1
1
2
3
5
8
13
21
34
55
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Gallwn dangos hefyd rhoddir y dilyniant Fibonacci gan:</p>
<p>$$
    f(n) = \frac{\phi^{(n + 1)} - (-\phi)^{-(n + 1)}}{\sqrt{5}}
$$</p>
<p>Lle $\phi$ yw'r gymhareb euraidd:</p>
<p>$$
    \phi = \frac{1 + \sqrt{5}}{2}
$$</p>
<p>Defnyddiwn y ffwythiant ailadroddol i wirio bod y fformiwla yma yn gywir ar gyfer y 30 gwerth cyntaf o $n$:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>  <span class="c1"># Dyma llyfrgell sy&#39;n cynnwys nifer o ffwythiannau defnyddiol</span>
<span class="n">phi</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
<span class="k">def</span> <span class="nf">fibonacci_amgen</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Allbynnu&#39;r nfed rhif fibonacci trwy defnyddio&#39;r fformiwla cymhareb euraidd&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">phi</span> <span class="o">**</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="o">-</span><span class="n">phi</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">/</span> <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Fel gwnaethon ni yn y daflen lab diwethaf ysgrifennwn ffwythiant i wirio'r fformiwla</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">gwirio_fformiwla</span><span class="p">(</span><span class="n">K</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Gwirio&#39;r fformiwla cymhareb euraidd&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">K</span><span class="p">)</span> <span class="o">==</span> <span class="nb">round</span><span class="p">(</span><span class="n">fibonacci_amgen</span><span class="p">(</span><span class="n">K</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">gwirio_fformiwla</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[13]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Gwiriwn am y 30 gwerth cyntaf:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gwiriadau</span> <span class="o">=</span> <span class="p">[</span><span class="n">gwirio_fformiwla</span><span class="p">(</span><span class="n">K</span><span class="p">)</span> <span class="k">for</span> <span class="n">K</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">)]</span>
<span class="nb">all</span><span class="p">(</span><span class="n">gwiriadau</span><span class="p">)</span>  <span class="c1"># mae `all` yn cyfuno pob boolean mewn rhestr</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[14]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Yna gallwn ddefnyddio'n fformiwla amgen i ysgrifennu ffeil mawr gyda'r 500 rhif Fibonacci cyntaf:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fibonacci.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ffeiltecst</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">):</span>
        <span class="n">rhif_fib</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">fibonacci_amgen</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="mi">0</span><span class="p">))</span>  <span class="c1"># Talgrynnu&#39;r rhif</span>
        <span class="n">ffeiltecst</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">rhif_fib</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># A&#39;i ysgrifennu</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>
<h2 id="Ymarferion">Ymarferion<a class="anchor-link" href="#Ymarferion">&#182;</a></h2><p>Dyma nifer o ymarferion sy'n bosib cwblhau trwy ddefnyddio'r cysyniadau cod a thrafodwyd:</p>
<ul>
<li><p>Ffwythiannau ailadroddol, ysgrifennu cod sy'n cyfateb â diffiniadau ailadroddol mathemategol. Er enghraifft $a(0)=1$ ac $a(n)=2a(n-1)$:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">dilyniant_a</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
      <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># achos sylfaenol</span>
         <span class="k">return</span> <span class="mi">1</span>  
      <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">a</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># perthynas ailadroddol</span>
</pre></div>
</li>
<li><p>Ysgrifennu i ffeil gyda <code>open("ffeil.txt", "w")</code> a darllen o ffeil gyda <code>open("ffeil.txt", "r")</code></p>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>
<h3 id="Ymarfer-1">Ymarfer 1<a class="anchor-link" href="#Ymarfer-1">&#182;</a></h3><p><strong>Ymarfer datbygio</strong></p>
<p>Mae'r cod canlynol yn ceisio ysgrifennu $n!$ fel ffwythiant ailadroddol. Canfyddwch a chywirwch yr holl fygiau.</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ffactorial</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ffwythiant sy&#39;n allbynnu ffactorial n&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">n</span> <span class="o">*</span> <span class="n">ffactoial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>
<h3 id="Ymarfer-2">Ymarfer 2<a class="anchor-link" href="#Ymarfer-2">&#182;</a></h3><p>Ysgrifennwch ffwythiant ailadroddol sy'n allbynnu'r rhifau Catalan $C(n)$ wedi diffinio gan y canlynol:</p>
<ol>
<li>Achos sylfaenol: $C(0)=1$;</li>
<li>Rheol ailadroddol: $C(n)=\sum_{i=0}^{n-1}C(i)C(n-1-i)$</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>
<h3 id="Ymarfer-3">Ymarfer 3<a class="anchor-link" href="#Ymarfer-3">&#182;</a></h3><p>Ar gyfer yr 15 gwerth cyntaf o $n$ bod y fformiwla amgen canlynol hefyd yn rhoi'r rhifau Catalan (mewn gwirionedd dyma'r fformiwla a ddefnyddiwyd yn fwy aml):</p>
<p>$$
    C(n) = \frac{(2n)!}{(n+1)!n!}
$$</p>
<p>Ysgrifennwch y 500 rhif catalan cyntaf i ffeil.</p>
<p>Gallwch ddefnyddio'r ffwythiant ffactorial a diffiniwyd yn y daflen lab yma (Ymarfer 1) neu gallwch ddefnyddio'r llyfrgell <code>math</code>: <code>math.factorial</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>
<h3 id="Ymarfer-4">Ymarfer 4<a class="anchor-link" href="#Ymarfer-4">&#182;</a></h3><p>Mae'r ffeil <code>cysefin.csv</code> (<a href="/cfm/nbs/cy/chapters/cysefin.csv">lawrlwytho</a>) yn cynnwys y filiwn rhif cysefin cyntaf. Defnyddiwch hwy i geisio gwirio <a href="https://en.wikipedia.org/wiki/Goldbach%27s_conjecture">dyfaliad Goldbach</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>
<h1 id="Adnoddau-pellach">Adnoddau pellach<a class="anchor-link" href="#Adnoddau-pellach">&#182;</a></h1><ul>
<li><a href="https://en.wikibooks.org/wiki/Non-Programmer%27s_Tutorial_for_Python_3/Recursion">A non programmers tutorial for Python: Recursion</a></li>
<li><a href="http://www.python-course.eu/recursive_functions.php">Tiwtorial neis gan 'The Python Course' ar ffwythiannau ailadroddol</a></li>
<li><a href="http://www.johndcook.com/blog/2010/03/30/understanding-recursion/">Blog byr gan Joh Cook am ffwythiannau ailadroddol</a></li>
<li><a href="https://pymotw.com/3/csv/">Ysgrifennu a darllen ffeiliau csv gyda'r llyfrgell csv</a></li>
<li><a href="https://docs.python.org/3/library/functools.html#functools.lru_cache">Dogfennaeth ar gyfer y ffwythiant 'cache' yn Python 3</a></li>
</ul>

</div>
</div>
</div>
 



    
        <a href="../../02/cy/">Blaenorol</a>
    
    
        <p align="right"><a href="../../04/cy/">Nesaf</a></p>
    

    </div>

    <div class="container">
        <center>
            <p style="font-size: small;">
            Ffynhonnell cod:
            <a href="https://github.com/drvinceknight/cfm">@drvinceknight</a>
            Wedi'i greu gan:
                <a href="https://www.python.org/">Python</a>
                <a href="http://jupyter.org/">Jupyter</a>
                <a href="https://www.mathjax.org/">Mathjax</a>
                <a href="https://pages.github.com/">Github pages</a>
                <a href="http://getskeleton.com/">Skeleton css</a>
            Cyfieithiad gan:
                <a href="http://www.geraintianpalmer.org.uk">Geraint Palmer</a>
            </p>
        </center>
    </div>

    <script>
        document.querySelector('header nav ul').addEventListener('click', function(){
            document.querySelector('#nav').checked = false;
        });

        var menuHeight = document.querySelector('header').offsetHeight;
        document.querySelectorAll('.section-title').forEach(function(a){
            a.style.paddingTop = menuHeight + 'px';
            a.style.marginTop = '-' + menuHeight + 'px';
        });
    </script>
</body>
</html>